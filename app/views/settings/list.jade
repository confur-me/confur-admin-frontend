.ui.segment
  h3.ui.header Settings
  .ui.form
    table.ui.compact.very.basic.table
      thead
        tr
          th.right.aligned Key
          th Value
          th
      tbody
        tr(ng-repeat='setting in settings')
          td.collapsing.right.aligned
            .field
              label(ng-show='setting.isPersistent()') {{ setting.key }}
              input(
                ng-hide='setting.isPersistent()' placeholder='Key'
                ng-value='setting.key' ng-model='setting.key'
                ng-model-options='{ updateOn: "default blur", debounce: {"default": 500, "blur": 0} }'
              )
          td.collapsing
            .field
              input(
                placeholder='Value' ng-value='setting.value'
                ng-model='setting.value' ng-change='setting.isChanged = true'
                ng-model-options='{ updateOn: "default blur", debounce: {"default": 500, "blur": 0} }'
              )
          td.collapsing
            button.ui.button.negative.compact.icon(ng-click='destroy(setting.key)')
              i.trash.icon
            button.ui.button.icon.compact(ng-show='setting.isPersistent() && setting.isChanged' ng-click='cancel(setting.key)')
              i.undo.icon
              | Undo
      tfoot.full-width
        tr
          th.right.aligned.collapsing
            button.ui.button.right(ng-click='add()')
              i.plus.icon
              | Add
          th.collapsing
            button.ui.button.positive(ng-click='save()')
              i.save.icon
              | Save settings
          th.collapsing
